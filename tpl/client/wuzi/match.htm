<style>
    .board .board-topleft { background-image: url([:app]/images/wuzi/topleft.png); }
    .board .board-top { background-image: url([:app]/images/wuzi/top.png); }
    .board .board-topright { background-image: url([:app]/images/wuzi/topright.png); }
    .board .board-left { background-image: url([:app]/images/wuzi/left.png); }
    .board .board-cross { background-image: url([:app]/images/wuzi/cross.png); }
    .board .board-right { background-image: url([:app]/images/wuzi/right.png); }
    .board .board-bottomleft { background-image: url([:app]/images/wuzi/bottomleft.png); }
    .board .board-bottom { background-image: url([:app]/images/wuzi/bottom.png); }
    .board .board-bottomright { background-image: url([:app]/images/wuzi/bottomright.png); }
</style>
<div class="board">
    <?php for ($i = 0; $i < 15; $i++) {
            if ($i == 0) {
                $line = "top";
            } else if ($i == 14) {
                $line = "bottom";
            } else {
                $line = "";
            }
            $lef = $line . "left";
            $rig = $line . "right";
            $mid = empty($line) ? "cross" : $line;
    ?>
    <div class="board-row clear">
        <?php for ($j = 0; $j < 15; $j++) {
                $A = ord('A');
                if ($j == 0) {
                    $boardclass = "board-$lef";
                } else if ($j == 14) {
                    $boardclass = "board-$rig";
                } else {
                    $boardclass = "board-$mid";
                }
                $place = chr($A + $j) . $i;
                $piece = "";
                $ps = $match->piece_status($place);
                if ($ps == $match->pid1()) {
                    $piece = "black-piece";
                } else if ($ps == $match->pid2()) {
                    $piece = "white-piece";
                }
            ?>
            <div place="{=$place}" class="board-node {=$boardclass} {=$piece}"><div class="piece"></div></div>
        <?php } ?>
    </div>
    <?php } ?>
    <?php $turn = ($match->get_last_player()->id() == $player->id()) ? 0 : 1; ?>
    <div id="matchconfig" turn="{=$turn}" match="{=$match->id()}"></div>
</div>
<div class="matchinfo clear">
    <div class="player clear">
        <div class="black-piece"></div>
        <div class="player-face"><img src="{=$match->player1()->faceurl()}"></img></div>
        <div class="player-nick">{=$match->player1()->nick()}</div>
    </div>
    <div class="player clear">
        <div class="white-piece"></div>
        <div class="player-face"><img src="{=$match->player2()->faceurl()}"></img></div>
        <div class="player-nick">{=$match->player2()->nick()}</div>
    </div>
</div>

